<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GenAI E-Book Reader: GenAI E-Book Reader — Descrição e Requisitos de Software</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../customdox.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo-do-projeto.png"/></td>
  <td id="projectalign">
   <div id="projectname">GenAI E-Book Reader<span id="projectnumber">&#160;0.0.1</span>
   </div>
   <div id="projectbrief">Leitor de e-books com IA, TTS, anotações e integrações</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d0/d89/md_GenAi-E-Book-Reader_2REQUISITOS.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">GenAI E-Book Reader — Descrição e Requisitos de Software</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md11"></a> </p>
<h1><a class="anchor" id="autotoc_md12"></a>
1. Visão Geral</h1>
<p>Este software visa atender a uma necessidade prática durante a leitura de e-books (PDF, MOBI e EPUB), oferecendo uma experiência simples, fluida e produtiva, com recursos de leitura, marcação, anotações, estatísticas de leitura, dicionário, Text-to-Speech (TTS) e apoio de IA para resumos e explicações via RAG.</p>
<ul>
<li>Plataforma principal: Linux (prioritário).</li>
<li>Portabilidade: Windows (compilável em versões futuras).</li>
<li>Tecnologias: C/C++ com Qt para GUI, CMake para build, Doxygen para documentação.</li>
</ul>
<h1><a class="anchor" id="autotoc_md13"></a>
2. Objetivos</h1>
<ul>
<li>Proporcionar leitura confortável e acessível de e-books, com navegação fluida e UI intuitiva.</li>
<li>Oferecer ferramentas eficientes de estudo (marcação, anotações, dicionário, TTS, IA para explicações e resumos).</li>
<li>Registrar e apresentar estatísticas de leitura úteis (tempo ativo, páginas, palavras etc.).</li>
<li>Integrar-se ao Calibre como biblioteca digital principal e apoiar conversões de formato.</li>
</ul>
<h1><a class="anchor" id="autotoc_md14"></a>
3. Escopo</h1>
<ul>
<li>Leitura e visualização de livros em janelas simples e responsivas.</li>
<li>Marcações e anotações persistentes, com painel lateral dedicado.</li>
<li>Recurso de dicionário on-demand ao clicar em palavras/trechos.</li>
<li>TTS para leitura de trechos selecionados ou capítulo atual.</li>
<li>IA (OpenAI) para explicar e resumir seleções, com RAG para contextualização.</li>
<li>Registro de histórico, progresso e estatísticas, com persistência e restauração de sessão.</li>
<li>Integração com Calibre Desktop e conversão entre formatos suportados.</li>
</ul>
<h1><a class="anchor" id="autotoc_md15"></a>
4. Personas e Principais Casos de Uso</h1>
<ul>
<li>Leitor focado: leitura simples, ajuste de fonte/tema, continuidade entre sessões.</li>
<li>Estudante/Pesquisador: marcações, anotações, exportação, dicionário e IA para explicações/resumos.</li>
<li>Usuário com acessibilidade: TTS para ouvir trechos/obras, controles simples.</li>
</ul>
<h1><a class="anchor" id="autotoc_md16"></a>
5. Requisitos Funcionais</h1>
<ol type="1">
<li>Tratamento de Arquivos<ul>
<li>RF-00: Abrir e exibir e-books nos formatos PDF, EPUB e MOBI.</li>
<li>RF-01: Suportar navegação por página/capítulo, zoom, busca no texto e índice.</li>
<li>RF-02: Ajustes de visualização: tema claro/escuro, tamanho de fonte (quando aplicável), margens.</li>
<li>RF-03: Salvar em arquivo de apoio (sidecar) junto do arquivo original.</li>
<li>RF-04: Ao abrir o arquivo, lembrar a última pasta aberta.</li>
<li>RF-05: Permitir adicionar a pasta a favoritas.</li>
<li>RF-06: Lembrar os últimos livros abertos; exibir imediatamente os 5 primeiros e permitir pesquisar os demais.</li>
</ul>
</li>
</ol>
<ol type="1">
<li>Menu e painel lateral esquerdo<ul>
<li>RF-07: Menu com opções de leitura, marcações, anotações, estatísticas, configurações, ajuda e sobre.</li>
<li>RF-08: Painel lateral esquerdo com lista de livros abertos, favoritos e arquivos recém-abertos.</li>
<li>RF-09: Painel lateral direito com lista de marcações e anotações.</li>
<li>RF-10: Painel esquerdo alterna entre thumbnails das páginas e árvore dos capítulos.<ul>
<li>Para PDFs, a árvore de capítulos/subcapítulos é derivada dos bookmarks do documento (quando disponíveis); caso contrário, o TOC recai para a lista de páginas.</li>
</ul>
</li>
<li>RF-11: Painel esquerdo pode ser recolhido e expandido.</li>
<li>RF-12: Painel esquerdo pode ser arrastado para ajustar seu tamanho.</li>
<li>RF-13: A página deve ser aberta na largura exata de exibição.</li>
<li>RF-14: A seleção de página deve ser um combobox na barra de ferramentas, listando todas as páginas do documento, com dois botões: anterior e próximo.</li>
</ul>
</li>
<li>Tratamento de DRM<ul>
<li>RF-15: Arquivos com DRM devem ser normalmente, mas devem ser abertos com a opção de desbloquear DRM.</li>
<li>RF-16: Arquivos com DRM também podem ser salvos normalmente, mas devem ser salvos com a opção de desbloquear DRM.</li>
</ul>
</li>
</ol>
<ol type="1">
<li>Marcações e Anotações<ul>
<li>RF-04: Marcar texto (realce) e criar anotações vinculadas ao trecho.</li>
<li>RF-05: Exibir painel lateral com lista de marcações/anotações, com filtro e busca.</li>
<li>RF-06: Exportar/importar marcações e anotações (ex.: JSON/Markdown) por livro.</li>
<li>RF-07: As marcações devem ser salvas em arquivo de apoio (sidecar) junto do arquivo original.</li>
</ul>
</li>
<li>Dicionário<ul>
<li>RF-08: Ao clicar em uma palavra/trecho, exibir definição em um popover/painel.</li>
<li>RF-09: Permitir alternar dicionários/idiomas (deve autodetectar o idioma).</li>
</ul>
</li>
<li>Text-to-Speech (TTS)<ul>
<li>RF-10: Integrar com um mecanismo TTS do sistema (ex.: eSpeak/mbrola/festival/SAPI no futuro) para ler trechos marcados ou seção atual.</li>
<li>RF-11: Controles de TTS: reproduzir/pausar/parar, velocidade e voz (quando suportado).</li>
</ul>
</li>
<li>IA (OpenAI) para Explicações e Resumos (RAG)<ul>
<li>RF-12: Selecionar um trecho ou parágrafo e solicitar explicação ou resumo via OpenAI API.</li>
<li>RF-13: Contextualizar a solicitação via RAG, incluindo parágrafos anteriores e posteriores quando necessário.</li>
<li>RF-14: Salvar as respostas da IA como anotações vinculadas ao trecho (opcional).</li>
<li>RF-15: Registrar logs (locais) das chamadas (metadados, não conteúdo sensível) para depuração.</li>
</ul>
</li>
<li>Estatísticas e Histórico<ul>
<li>RF-16: Registrar tempo de leitura ativo somente quando a janela do livro estiver em primeiro plano.</li>
<li>RF-17: Registrar progresso por livro (página atual, total de páginas quando aplicável, posição no EPUB/MOBI).</li>
<li>RF-18: Calcular estatísticas: páginas lidas, palavras (quando disponível), tempo total, sessões.</li>
<li>RF-19: Apresentar painel/resumo das estatísticas por livro e geral.</li>
</ul>
</li>
<li>Sessão e Restauração<ul>
<li>RF-20: Lembrar os livros abertos e reabrir automaticamente após reinício/travamento do sistema.</li>
<li>RF-21: Persistir preferências de visualização por livro.</li>
</ul>
</li>
<li>Integração com Calibre<ul>
<li>RF-22: Integração nativa com a biblioteca do Calibre: listar livros, abrir diretamente, atualizar metadados.</li>
<li>RF-23: Após conversões, cadastrar/atualizar o registro no Calibre.</li>
</ul>
</li>
<li>Conversões de Formato<ul>
<li>RF-24: Converter e-books entre EPUB, MOBI e PDF (quando tecnicamente viável e permitido).</li>
<li>RF-25: Expor fila de conversões e status.</li>
</ul>
</li>
<li>Configurações<ul>
<li>RF-26: Tela de Configurações com: URL da OpenAI API, token, dicionários instalados/ordem, TTS/voz, tema, diretórios (Calibre), privacidade.</li>
<li>RF-27: Teste de conexão para OpenAI API e validação segura do token.<ol type="a">
<li>Operações de Arquivo (complementares)</li>
</ol>
</li>
<li>RF-28: Salvar como — permitir salvar o livro/estado atual em um novo arquivo (planejado para a versão 0.1.2).</li>
</ul>
</li>
<li>Interface e Branding (entregue em 0.1.3)<ul>
<li>RF-29: Ícone do aplicativo baseado em <code>docs/imgs/logo-do-projeto.png</code>, exibido na barra de título.</li>
<li>RF-30: Exibir na barra de título o nome do livro em leitura; usar metadados do arquivo quando disponíveis; caso contrário, usar o nome do arquivo.</li>
<li>RF-31: Splash screen exibindo <code>docs/imgs/logo-do-projeto.png</code>, a versão do app e os dados do autor: "Carlos Delfino &lt;consultoria@carlosdelfino.eti.br&gt;".</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="autotoc_md17"></a>
6. Requisitos Não Funcionais</h1>
<ul>
<li>RNF-01: Desempenho — abertura de livros e navegação devem ser rápidas; UI responsiva.</li>
<li>RNF-02: Usabilidade — interface simples, acessível, com atalhos de teclado e hints.</li>
<li>RNF-03: Portabilidade — Linux prioritário; Windows suportado em builds futuros.</li>
<li>RNF-04: Manutenibilidade — código modular, CMake, documentação Doxygen.</li>
<li>RNF-05: Confiabilidade — recuperação de sessão após falhas; persistência robusta.</li>
<li>RNF-06: Segurança/Privacidade — armazenar segredos (token) de forma segura; não enviar conteúdo do livro sem consentimento explícito.</li>
<li>RNF-07: Localização — suporte inicial a PT-BR; arquitetura preparada para i18n.</li>
<li>RNF-08: Distribuição — gerar pacote .deb para distribuição, instalação, atualização e remoção. Integração com o Calibre na instalação e com o desktop.</li>
</ul>
<h1><a class="anchor" id="autotoc_md18"></a>
7. Arquitetura e Tecnologias</h1>
<ul>
<li>Qt (Widgets/QML a definir) para UI e renderização de documentos.</li>
<li>Bibliotecas para parsing/renderização:<ul>
<li>PDF: Poppler/Qt PDF.</li>
<li>EPUB/MOBI: bibliotecas de terceiros (ex.: LibCM, epub SDKs), a avaliar.</li>
</ul>
</li>
<li>Persistência: arquivos locais (JSON/SQLite) para histórico, anotações e configurações.</li>
<li>Integrações: Calibre via CLI/DB/API local; OpenAI API via HTTPS.</li>
</ul>
<h1><a class="anchor" id="autotoc_md19"></a>
8. Modelo de Dados (alto nível)</h1>
<ul>
<li>Livro: id, título, autor(es), caminho/URI, formato, metadados.</li>
<li>Progresso: livroId, posição/página, timestamp.</li>
<li>Marcação: id, livroId, localização (offset/capítulo/página), texto, cor, criadoEm.</li>
<li>Anotação: id, marcaçãoId|livroId, texto, origem (usuário|IA), criadoEm.</li>
<li>Estatística: livroId, sessões [início, fim, ativo], palavras/páginas estimadas.</li>
<li>Configurações: tema, fonte, dicionários, TTS, OpenAI (URL/token), diretórios, privacidade.</li>
</ul>
<h1><a class="anchor" id="autotoc_md20"></a>
9. UX/UI (linhas gerais)</h1>
<ul>
<li>Leitor com área principal + painel lateral de marcações/anotações recolhível.</li>
<li>Barra superior com navegação, busca, TTS, IA, dicionário, tema.</li>
<li>Popover de dicionário sobre seleção/click; opção para abrir no painel.</li>
<li>Diálogos discretos para chamadas de IA com feedback de carregamento e histórico.</li>
</ul>
<h1><a class="anchor" id="autotoc_md21"></a>
10. Integrações</h1>
<ul>
<li>OpenAI API: endpoints de chat/completions; chave armazenada com segurança; opção para desativar/usar proxy local.</li>
<li>Calibre: integração com biblioteca local; abrir livros, atualizar metadados, registrar conversões.</li>
<li>TTS: integração com mecanismo disponível no SO; fallback configurável.</li>
</ul>
<h1><a class="anchor" id="autotoc_md22"></a>
11. Segurança e Privacidade</h1>
<ul>
<li>Armazenar token OpenAI com criptografia local (quando possível) ou permissões restritas.</li>
<li>Confirmação explícita antes de enviar trechos do livro à IA.</li>
<li>Logs sem conteúdo sensível (apenas metadados técnicos).</li>
</ul>
<h1><a class="anchor" id="autotoc_md23"></a>
12. Critérios de Aceitação (MVP)</h1>
<ul>
<li>CA-01: Abrir e ler PDF/EPUB com navegação básica, tema claro/escuro.<ul>
<li>Para PDFs, exibir TOC por capítulos via bookmarks quando disponíveis; na ausência de bookmarks, exibir TOC por páginas.</li>
</ul>
</li>
<li>CA-02: Criar marcações e anotações; exibir no painel lateral; exportar JSON.</li>
<li>CA-03: Dicionário funcionando ao clicar em palavras (pelo menos 1 idioma).</li>
<li>CA-04: TTS lendo trecho selecionado com controles básicos.</li>
<li>CA-05: OpenAI gerando resumo/explicação de um trecho com RAG básico.</li>
<li>CA-06: Estatísticas básicas de tempo ativo e progresso por livro.</li>
<li>CA-07: Restauração de sessão com reabertura dos livros abertos.</li>
<li>CA-08: Integração com Calibre para abrir livro a partir da biblioteca.</li>
</ul>
<h1><a class="anchor" id="autotoc_md24"></a>
13. Roadmap (sugestão)</h1>
<ul>
<li>Fase 1: MVP conforme critérios de aceitação.</li>
<li>Fase 2: Conversões de formato robustas e fila; dicionários multilíngues; atalhos avançados.</li>
<li>Fase 3: IA avançada (RAG otimizado, sumários por capítulo, flashcards); exportação avançada (Markdown/PDF de marcações/anotações); sincronização opcional.</li>
<li>Fase 4: Build/instalador Windows; i18n completo; acessibilidade ampliada.</li>
</ul>
<h1><a class="anchor" id="autotoc_md25"></a>
14. Riscos e Dependências</h1>
<ul>
<li>Licenciamento e capacidade técnica das bibliotecas de renderização para EPUB/MOBI.</li>
<li>Limitações de TTS no ambiente do usuário.</li>
<li>Custo/latência da OpenAI API; necessidade de alternativas locais.</li>
<li>Mudanças no Calibre (estrutura de dados/CLI) entre versões.</li>
</ul>
<h1><a class="anchor" id="autotoc_md26"></a>
15. Glossário</h1>
<ul>
<li>RAG (Retrieval-Augmented Generation): técnica que complementa a geração por IA com busca/recuperação de contexto relevante do corpus local.</li>
<li>TTS (Text-to-Speech): conversão de texto em fala.</li>
</ul>
<h1><a class="anchor" id="autotoc_md27"></a>
16. Referências Técnicas</h1>
<ul>
<li>Qt, CMake, Doxygen.</li>
<li>Poppler/Qt PDF, bibliotecas para EPUB/MOBI.</li>
<li>Calibre (CLI/BD), OpenAI API.</li>
</ul>
<hr  />
<p> Este documento substitui e organiza os requisitos iniciais, corrige ortografia/clareza e adiciona detalhes de arquitetura, UX, dados e critérios de aceitação para orientar o desenvolvimento. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
